# Desafio: O Multiverso Precisa de Organiza√ß√£o!

O **Multiverso Nerd** entrou em colapso.  
Os portais entre universos se abriram e **personagens de mundos diferentes est√£o misturados** em uma base de dados completamente confusa:  
nomes duplicados, franquias desorganizadas, campos escritos de forma diferente e at√© esp√©cies misteriosas mal registradas!

O **Conselho Supremo da Gal√°xia** (voc√™ üëÄ) foi convocado para **restaurar a ordem no banco de dados interdimensional**.

Seu objetivo √© aplicar seus poderes de **higieniza√ß√£o** e **normaliza√ß√£o de dados** para reconstruir o equil√≠brio nerd do universo dos dados.

---

## Objetivos do Desafio

H√° dois arquivos neste reposit√≥rio com **75 registros** de personagens, criaturas e her√≥is do mundo nerd. Que devem ser higienizados e normalizados em uma nova tabela chamada **`universo_nerd`**.

---

O arquivo conter√°:

Uma tabela chamada nerd_items com registros de itens nerds coletados de diferentes universos fict√≠cios. Cada registro pode conter:

* registros com inconsist√™ncias reais, como:

* Pre√ßos em formatos diferentes (R$, USD, n√∫meros sem separador);

* Datas em formatos variados (2023-04-10, 10/04/23, 04/2023);

* Campos faltando ou trocados;

* Letras trocadas, mai√∫sculas aleat√≥rias;

* ‚Äúuniversos‚Äù misturados (Marvel, Star Wars, Pok√©mon, etc.);

* Alguns campos num√©ricos salvos como texto e vice-versa.

```sql
INSERT INTO nerd_items VALUES
(1, 'Sabre d luz azul', 'Star Wrs', 'arma', 'R$1500', '12', 'Sabre com luz LED azul, empunhadura met√°lica', '2023-04-10', 'JediSupply', 'raro'),
(2, 'Anel do Poder', 'O Senhor dos Aneis', 'artefato', '$999.99', '??', 'forjado em mordor... ou ser√° que n√£o?', '10/04/23', 'Sauron INC', 'lend√°rio'),
(3, 'Pokebola', 'Pok√©mon', 'Acessorio', '35.00', '100', 'bolinha pra pegar monstrinhos', '04/2023', '', 'comum'),
(4, 'Buster Swrd', 'Final Fantasy', 'arma', 'US$ 1299', '8 unidades', 'espada enorme q o Cloud usa', '12-04-22', 'Shinra', 'raro'),
(5, 'Mjolnir', 'Marvel', 'arma', '2200 reais', '5', 'martelo do thor, mt pesado', '2021/05/03', 'AsgardTools', 'lend√°rio'),
(6, 'Varinha do Harry', 'Harry Poter', 'artefato', 'R$250', '42', 'madeira com pena de f√™nix', '01.05.2023', 'Ollivanders', 'comum'),
(7, 'Escudo do Capit√£o', 'marvel', 'Armadura', 'USD4000', '2', 'escudo vibranium original', '2022-11-30', 'StarkIndustries', 'raro'),
(8, 'Tricorder', 'StarTrek', 'tecnologia', '1800R$', '6', 'dispositivo de an√°lise cient√≠fica port√°til', '30-06-21', 'UFP', '√©pico'),
(9, 'Chap√©u seletor', 'harry potter', 'artefato', 'R$400', 'n/a', 'fala sozinho e escolhe casas', '2023/06/01', 'Hogwarts', 'raro'),
```

---

O desafio ser√° dividido em **etapas**:

### Etapa 0 - EXPLORAR E HIGIENIZAR

1. Execute os comandos abaixo para criar a base original.
2. Observe os problemas (tipos misturados, datas diferentes, valores errados, etc.).
3. Liste as anomalias que encontrar.
4. Crie uma vers√£o ‚Äúlimpa‚Äù da tabela (`nerd_items_clean`).  
   - Padronize tipos de dados (pre√ßos como DECIMAL, datas como DATE, etc.).
   - Corrija valores inconsistentes (nomes, universos, categorias).
   - Trate valores nulos ou ausentes.
   - Remova duplicatas.

### Etapa 1 ‚Äî Higieniza√ß√£o de Dados

O caos tomou conta da base de dados! Sua primeira miss√£o √© **limpar e padronizar** os registros.

Tarefas obrigat√≥rias:

1. Padronize nomes de campos (`Name`, `nome`, `char_name` ‚Üí `name`);
2. Corrija capitaliza√ß√£o e espa√ßos extras (`"tOny stark"` ‚Üí `"Tony Stark"`);
3. Converta tipos de dados (`"85"` ‚Üí `85`);
4. Trate valores nulos, vazios ou `"N/A"`;
5. Transforme listas inconsistentes em arrays reais;
6. Unifique universos semelhantes (`"marvel studios"`, `"MARVEL COMICS"` ‚Üí `"Marvel"`);
7. Elimine duplicidades (como `"Batman"` e `"bat man"`);
8. Gere uma nova cole√ß√£o limpa chamada **`nerd_universe_clean`**.
9. Exporte a cole√ß√£o limpa para um arquivo JSON chamado `nerd_universe_clean.json` e comite no **seu** reposit√≥rio.

---

### Etapa 2 ‚Äî Normaliza√ß√£o

Depois de limpar os dados, voc√™ deve propor um **modelo normalizado**
em 3¬™ Forma Normal (3FN), separando entidades independentes e relacionamentos.

Abaixo est√° um modelo sugerido, mas voc√™ pode propor o seu pr√≥prio.

```sql
CREATE TABLE universos (
  id_universo INT PRIMARY KEY AUTO_INCREMENT,
  nome_universo VARCHAR(100) NOT NULL
);
```

### DESAFIOS FINAIS

* Corrija e insira os dados higienizados nas tabelas correspondentes.

* Garanta que os pre√ßos estejam padronizados em BRL com duas casas decimais.

* Padronize universos e categorias (ex: ‚ÄúStar wras‚Äù, ‚Äústar wars‚Äù ‚Üí ‚ÄúStar Wars‚Äù).

* Converta datas para formato ISO (`YYYY-MM-DD`).

* Utilize JOINs para reconstruir a vis√£o integrada dos produtos ap√≥s a normaliza√ß√£o.

* (Opcional) Crie uma view chamada `vw_nerd_items_final` unindo todas as tabelas.

**Dica**: explore comandos como:
    - TRIM(), UPPER(), LOWER(), REPLACE(), STR_TO_DATE()
    - CAST() e CONVERT()
    - CASE WHEN ... THEN ... END


### Desafio Extra (opcional)

Use seu poder m√°ximo e crie consultas heroicas!

Tente descobrir:

* O personagem mais poderoso de cada universo;

* O universo com mais personagens registrados;

* Quantos personagens possuem mais de 3 equipamentos.

**Entregas**: 

1. C√≥digo de higienizados e normalizados em seu reposit√≥rio pessoal;
2. Arquivo `nerd_universe_clean.json` com os dados higienizados;
